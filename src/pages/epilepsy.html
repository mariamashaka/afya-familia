<!DOCTYPE html> 
<html lang="sw">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kifafa - Epilepsy Tracker</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: Arial, sans-serif;
            background: #f5f5f5;
            padding: 20px;
        }
        
        /* EMERGENCY BUTTON */
        .emergency-btn {
            width: 100%;
            background: #d32f2f;
            color: white;
            padding: 20px;
            font-size: 24px;
            font-weight: bold;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            margin-bottom: 20px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.2);
        }
        
        .emergency-btn:hover {
            background: #b71c1c;
        }
        
        /* TABS */
        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .tab-btn {
            flex: 1;
            padding: 15px;
            background: white;
            border: 2px solid #ddd;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
        }
        
        .tab-btn.active {
            background: #2196F3;
            color: white;
            border-color: #2196F3;
        }
        
        /* CONTENT AREAS */
        .tab-content {
            display: none;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .tab-content.active {
            display: block;
        }
        
        /* SEIZURE FORM (Hidden by default) */
        .seizure-form {
            display: none;
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        
        .seizure-form.active {
            display: block;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        .form-group label {
            display: block;
            font-weight: bold;
            margin-bottom: 5px;
            color: #333;
        }
        
        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 14px;
        }
        
        .form-group textarea {
            min-height: 80px;
            resize: vertical;
        }
        
        .checkbox-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        .checkbox-group label {
            font-weight: normal;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
        }
        
        .btn-primary {
            background: #4CAF50;
            color: white;
        }
        
        .btn-secondary {
            background: #757575;
            color: white;
            margin-left: 10px;
        }
        
        .btn:hover {
            opacity: 0.9;
        }
        
        /* SEIZURE LIST */
        .seizure-list {
            list-style: none;
        }
        
        .seizure-item {
            background: #f9f9f9;
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 8px;
            border-left: 4px solid #d32f2f;
        }
        
        .seizure-date {
            font-weight: bold;
            color: #d32f2f;
            margin-bottom: 5px;
        }
        
        .seizure-details {
            font-size: 14px;
            color: #666;
        }
        
        /* BASIC THERAPY SECTION */
        .therapy-section {
            margin-bottom: 20px;
        }
        
        .therapy-section h3 {
            color: #2196F3;
            margin-bottom: 10px;
        }
        
        .medication-item {
            background: #f9f9f9;
            padding: 12px;
            margin-bottom: 10px;
            border-radius: 6px;
        }
    </style>
</head>
<body>

    <!-- EMERGENCY BUTTON -->
    <button class="emergency-btn" onclick="openSeizureForm()">
        ðŸš¨ DEGEDEGE IMEANZA
    </button>

    <!-- SEIZURE FORM (Hidden by default) -->
    <div class="seizure-form" id="seizureForm">
        <h2>Rekodi Mshtuko wa Kifafa</h2>
        
        <form id="seizureEntryForm">
            <div class="form-group">
                <label>Tarehe na Saa:</label>
                <input type="datetime-local" id="seizureDateTime" required>
            </div>
            
            <div class="form-group">
                <label>Muda wa kudumu (dakika/sekunde):</label>
                <input type="text" id="seizureDuration" placeholder="Mfano: 2 dakika, 30 sekunde">
            </div>
            
            <div class="form-group">
                <label>Alifanya nini kabla ya mshtuko?</label>
                <textarea id="beforeSeizure" placeholder="Alikuwa usingizini, akicheza, n.k."></textarea>
            </div>
            
            <div class="form-group">
                <label>Aura - Aliona/kusikia kitu kabla?</label>
                <textarea id="aura" placeholder="Machozi, kulia, n.k."></textarea>
            </div>
            
            <div class="form-group">
                <label>Jinsi alivyoanza:</label>
                <div class="checkbox-group">
                    <label><input type="checkbox" name="onset" value="kulia"> Kulia</label>
                    <label><input type="checkbox" name="onset" value="kuangalia_upande"> Kuangalia upande</label>
                    <label><input type="checkbox" name="onset" value="machozi"> Machozi</label>
                    <label><input type="checkbox" name="onset" value="mengine"> Mengine</label>
                </div>
                <input type="text" id="onsetOther" placeholder="Eleza zaidi..." style="margin-top: 8px;">
            </div>
            
            <div class="form-group">
                <label>Mwili ulivyotikisika:</label>
                <div class="checkbox-group">
                    <label><input type="checkbox" name="bodyParts" value="mikono"> Mikono</label>
                    <label><input type="checkbox" name="bodyParts" value="miguu"> Miguu</label>
                    <label><input type="checkbox" name="bodyParts" value="uso"> Uso/Macho</label>
                    <label><input type="checkbox" name="bodyParts" value="mwili_wote"> Mwili wote</label>
                    <label><input type="checkbox" name="bodyParts" value="upande_mmoja"> Upande mmoja tu (Kulia/Kushoto)</label>
                </div>
                <input type="text" id="bodyPartsDetails" placeholder="Eleza zaidi..." style="margin-top: 8px;">
            </div>
            
            <div class="form-group">
                <label>Ameoteza ufahamu?</label>
                <select id="lostConsciousness">
                    <option value="">Chagua...</option>
                    <option value="ndiyo_kabisa">Ndiyo kabisa</option>
                    <option value="kidogo">Kidogo</option>
                    <option value="hapana">Hapana</option>
                </select>
            </div>
            
            <div class="form-group">
                <label>Triggers (Sababu zinazoweza kusababisha):</label>
                <div class="checkbox-group">
                    <label><input type="checkbox" name="triggers" value="homa"> Homa/Joto la mwili</label>
                    <label><input type="checkbox" name="triggers" value="usingizi"> Hakupata usingizi wa kutosha</label>
                    <label><input type="checkbox" name="triggers" value="dawa"> Amesahau dawa</label>
                    <label><input type="checkbox" name="triggers" value="stress"> Stress/Trauma</label>
                    <label><input type="checkbox" name="triggers" value="mwanga"> Mwanga mkali</label>
                </div>
                <input type="text" id="triggersOther" placeholder="Triggers zingine..." style="margin-top: 8px;">
            </div>
            
            <div class="form-group">
                <label>Baada ya mshtuko:</label>
                <div class="checkbox-group">
                    <label><input type="checkbox" name="afterSeizure" value="alisinzia"> Alisinzia</label>
                    <label><input type="checkbox" name="afterSeizure" value="alichoka"> Alichoka sana</label>
                    <label><input type="checkbox" name="afterSeizure" value="confused"> Alichanganyikiwa</label>
                    <label><input type="checkbox" name="afterSeizure" value="headache"> Maumivu ya kichwa</label>
                </div>
                <textarea id="afterSeizureDetails" placeholder="Eleza zaidi..." style="margin-top: 8px;"></textarea>
            </div>
            
            <div class="form-group">
                <label>Dawa ya dharura imetumika?</label>
                <input type="text" id="emergencyMeds" placeholder="Mfano: Diazepam 5mg rectal">
            </div>
            
            <div class="form-group">
                <label>Imeisha hospitali au nyumbani?</label>
                <select id="location">
                    <option value="nyumbani">Nyumbani</option>
                    <option value="hospitali">Hospitali</option>
                </select>
            </div>
            
            <div class="form-group">
                <label>Je, leo ametumia dawa zake za kawaida?</label>
                <select id="tookMeds">
                    <option value="ndiyo">Ndiyo</option>
                    <option value="hapana">Hapana</option>
                </select>
            </div>
            
            <div class="form-group">
                <label>Video/Picha (optional):</label>
                <input type="file" id="videoUpload" accept="video/*,image/*">
            </div>
            
            <div class="form-group">
                <label>Maelezo mengine:</label>
                <textarea id="additionalNotes" placeholder="Taarifa nyingine muhimu..."></textarea>
            </div>
            
            <button type="submit" class="btn btn-primary">Hifadhi</button>
            <button type="button" class="btn btn-secondary" onclick="closeSeizureForm()">Ghairi</button>
        </form>
    </div>

    <!-- TABS -->
    <div class="tabs">
        <button class="tab-btn active" onclick="showTab('basicInfo')">Taarifa za Msingi</button>
        <button class="tab-btn" onclick="showTab('history')">Historia ya Seizures</button>
    </div>

    <!-- TAB CONTENT: BASIC INFO -->
    <div class="tab-content active" id="basicInfo">
        <div class="therapy-section">
            <h3>Dawa za Kawaida (Basic Therapy)</h3>
            <div id="medicationList">
                <p style="color: #999;">Bonyeza "Ongeza Dawa" kuanza...</p>
            </div>
            <button class="btn btn-primary" onclick="addMedication()">+ Ongeza Dawa</button>
        </div>
        
        <div class="therapy-section">
            <h3>Uwezo wa Mtoto (Development)</h3>
            <div id="developmentInfo">
                <p style="color: #999;">Bonyeza "Rekodi Uwezo" kuanza...</p>
            </div>
            <button class="btn btn-primary" onclick="recordDevelopment()">Rekodi Uwezo</button>
        </div>
    </div>

    <!-- TAB CONTENT: HISTORY -->
    <div class="tab-content" id="history">
        <h3>Historia ya Mishtuko</h3>
        <button class="btn btn-primary" onclick="generateReport()">ðŸ“„ Toa Ripoti kwa Daktari</button>
        
        <ul class="seizure-list" id="seizureList">
            <li class="seizure-item">
                <div class="seizure-date">26/06/2025 - Saa 11:00 jioni</div>
                <div class="seizure-details">
                    Muda: 30-40 sekunde | Mikono, miguu, uso | Alisinzia baadaye
                </div>
            </li>
        </ul>
    </div>

    <script>
        // Tab switching
        function showTab(tabName) {
            // Hide all tabs
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Show selected tab
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
        }
        
        // Seizure form
        function openSeizureForm() {
            document.getElementById('seizureForm').classList.add('active');
            // Set current date/time
            const now = new Date();
            const datetime = now.toISOString().slice(0, 16);
            document.getElementById('seizureDateTime').value = datetime;
        }
        
        function closeSeizureForm() {
            document.getElementById('seizureForm').classList.remove('active');
        }
        
        // Form submission (placeholder)
        document.getElementById('seizureEntryForm').addEventListener('submit', function(e) {
            e.preventDefault();
            alert('Seizure data saved! (Database integration coming next)');
            closeSeizureForm();
        });
        
        // Placeholder functions
        function addMedication() {
            alert('Add medication form coming next!');
        }
        
        function recordDevelopment() {
            alert('Development recording form coming next!');
        }
        
        function generateReport() {
            alert('Report generation coming next!');
        }
    </script>

</body>
</html>
